var io = require('socket.io');

exports.bind = function(socket) {
	socket.on('login', function(data) {
		addUser(data.name, socket);
	});
};

exports.getUser = function(conn) {
	var i = 0,
		ln = users.length;
	for(; i < ln; i++) {
		if(users[i].conn == conn) {
			return users[i];
		}
	}
};

var users = [];

function addUser(name, conn) {
	users.push(new User(name, conn));
	console.log('User joined: ' + name);
};

function User(name, conn) {
	this.name = name;
	this.conn = conn;
};